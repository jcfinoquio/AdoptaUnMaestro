// @ts-nocheck
function openReplyModal(e){const t=document.getElementById("reply-modal");document.getElementById("reply-to").value=e,t.classList.add("active")}function toggleExpandM(e){const t=e.closest(".message-box"),a="msg-expanded-unique";t.classList.contains(a)?(t.classList.remove(a),t.style.maxHeight="20vh",e.textContent="Leer más"):(t.classList.add(a),t.style.maxHeight=t.scrollHeight+"px",e.textContent="Leer menos")}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("login-form");if(e){const l=document.getElementById("mensaje"),m=document.getElementById("mail"),u=document.getElementById("password"),p=document.getElementById("login-overlay"),g=document.getElementById("cerrar-modal"),f=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);function t(){p.classList.remove("active"),document.body.classList.remove("modal-active"),l.textContent="",e.reset()}function a(e,t){l.textContent=e,l.style.color=t}document.getElementById("abrir-modal")?.addEventListener("click",(()=>{p.classList.add("active"),document.body.classList.add("modal-active")})),[m,u].forEach((e=>{e.addEventListener("blur",(()=>{const t=e.value.trim();if(!t)return a("","");e===m&&a(f(t)?"":"Formato de correo inválido.",f(t)?"":"red"),e===u&&a(t.length<4?"La contraseña es demasiado corta.":"",t.length<4?"red":"")}))})),g?.addEventListener("click",t),p?.addEventListener("click",(e=>{e.target===modalOverlay&&t()})),e.addEventListener("submit",(e=>{e.preventDefault();const n=m.value.trim(),o=u.value;return n?f(n)?o?(a("Iniciando sesión...","blue"),void setTimeout((()=>{"usuario@ejemplo.com"===n&&"123456"===o?(a("¡Login exitoso! ✅","green"),setTimeout((()=>{t(),alert("Bienvenido!")}),1e3)):a("Credenciales incorrectas. Inténtalo de nuevo.","red")}),1500)):a("Por favor, introduce tu contraseña.","red"):a("El formato del correo electrónico no es válido.","red"):a("Por favor, introduce tu correo electrónico.","red")}))}window.toggleExpand=function(e){const t=e.closest(".job-offer");t&&(t.classList.toggle("expanded"),e.textContent=t.classList.contains("expanded")?"Leer menos":"Leer más")},document.querySelectorAll(".read-more-btn").forEach((e=>{e.addEventListener("click",(function(){window.toggleExpand(this)}))})),document.querySelectorAll(".btn-primary").forEach((e=>{"Postularme"===e.textContent&&e.addEventListener("click",(function(){alert("¡Postulación enviada correctamente!"),this.textContent="Postulado",this.classList.remove("btn-primary"),this.classList.add("btn-success"),this.disabled=!0}))})),document.querySelectorAll("[id^='visitas-']").forEach((e=>{const t=e.id;let a=parseInt(localStorage.getItem(t))||0;a++,localStorage.setItem(t,a),e.textContent=a})),document.querySelectorAll("[id^='contador-likes']").forEach((e=>{const t=e.id.replace("contador-likes",""),a=document.getElementById(`numero-likes${t}`);if(!a)return;const n=`likes-count${t}`,o=`user-liked${t}`;let i=parseInt(localStorage.getItem(n))||0;a.textContent=i,"true"===sessionStorage.getItem(o)&&(e.classList.add("clicado"),e.disabled=!0),e.addEventListener("click",(()=>{sessionStorage.getItem(o)||(i++,a.textContent=i,localStorage.setItem(n,i),e.classList.add("clicado"),e.disabled=!0,sessionStorage.setItem(o,"true"))}))}));const n=document.getElementById("registroForm");if(n){const v=document.getElementById("rol"),b=document.getElementById("bloqueMaestro"),h=document.getElementById("bloqueCentro"),y=document.getElementById("formacionesContenedor"),E=document.getElementById("btnAddForm");function o(e){b&&b.classList.toggle("hidden","maestro"!==e),h&&h.classList.toggle("hidden","centro"!==e)}v?.addEventListener("change",(e=>o(e.target.value))),v&&o(v.value);let L=0;E?.addEventListener("click",(()=>{L++;const e=document.createElement("div");e.className="formation-block",e.innerHTML=`\n        <div style="display:flex;gap:8px;flex-wrap:wrap;">\n          <div style="flex:1 1 45%;"><label>Título</label><input name="formacion[${L}][titulo]" type="text" placeholder="Título" /></div>\n          <div style="flex:1 1 45%;"><label>Centro formador</label><input name="formacion[${L}][centroFormador]" type="text" placeholder="Centro formador" /></div>\n          <div style="flex:1 1 30%;"><label>Año fin</label><input name="formacion[${L}][anioFin]" type="number" min="1900" max="2100" /></div>\n          <div style="flex:1 1 30%;"><label>Tipo</label><input name="formacion[${L}][tipoFormacion]" type="text" placeholder="Tipo" /></div>\n        </div>\n        <div style="text-align:right;margin-top:8px;">\n          <button type="button" class="btn-cancel" onclick="this.closest('.formation-block').remove()">Eliminar</button>\n        </div>\n      `,y.appendChild(e)})),n.addEventListener("submit",(e=>{n.checkValidity()||(e.preventDefault(),n.reportValidity())}))}const i=document.getElementById("resultados");if(i){const x=window.colegios||[],I=15;let k={q:"",provincia:"",tipo:"",page:1};const w=document.getElementById("buscar"),C=document.getElementById("filtroProvincia"),B=document.getElementById("filtroTipo"),S=document.getElementById("btnLimpiar"),$=document.getElementById("prevPage"),A=document.getElementById("nextPage"),M=document.getElementById("pageInfo"),q=document.getElementById("modalOverlay"),T=document.getElementById("modalCloseBtn"),P=document.getElementById("modalTitle"),z=document.getElementById("modalLogo"),F=document.getElementById("modalProvinciaTipo"),N=document.getElementById("modalCiudad"),R=document.getElementById("modalDescripcion"),j=document.getElementById("modalTelefono"),H=document.getElementById("modalContactBtn"),_=document.getElementById("modalGoPerfil");let D=null;function s(){i.setAttribute("aria-busy","true");const e=function(){const e=k.q.toLowerCase().trim();return x.filter((t=>(t.nombre+" "+t.ciudad+" "+t.resumen+" "+t.provincia).toLowerCase().includes(e)&&(!k.provincia||t.provincia===k.provincia)&&(!k.tipo||t.tipo===k.tipo)))}(),t=Math.max(1,Math.ceil(e.length/I));k.page=Math.min(k.page,t);const a=(k.page-1)*I,n=e.slice(a,a+I);i.innerHTML=n.map((e=>`\n        <article class="colegio-card" role="article" aria-labelledby="colegio-${e.id}">\n          <div class="colegio-logo" style="background-image:url('${e.logo}')" role="img" aria-label="${e.nombre} logo"></div>\n          <div class="colegio-meta">\n            <h4 id="colegio-${e.id}">${e.nombre}</h4>\n            <p><strong>${e.ciudad}</strong> · ${e.provincia}</p>\n            <p>${e.resumen}</p>\n            <div class="colegio-badges"><span class="badge">${e.tipo}</span></div>\n          </div>\n          <div class="colegio-actions">\n            <button class="btn-outline btn-view" data-id="${e.id}" aria-label="Ver ficha de ${e.nombre}">Ver ficha</button>\n            <button class="btn-primary btn" data-contact="${e.id}">Contactar centro</button>\n          </div>\n        </article>\n      `)).join(""),M&&(M.textContent=`${k.page} / ${t}`),$&&($.disabled=k.page<=1),A&&(A.disabled=k.page>=t),i.setAttribute("aria-busy","false")}function r(){q?.classList.remove("open"),q?.setAttribute("aria-hidden","true"),D?.focus()}q?.addEventListener("click",(e=>{e.target===modalOverlay&&r()})),T?.addEventListener("click",r),document.addEventListener("keydown",(e=>{"Escape"===e.key&&r()})),w?.addEventListener("input",(e=>{k.q=e.target.value,k.page=1,s()})),C?.addEventListener("change",(e=>{k.provincia=e.target.value,k.page=1,s()})),B?.addEventListener("change",(e=>{k.tipo=e.target.value,k.page=1,s()})),S?.addEventListener("click",(()=>{w&&(w.value=""),C&&(C.value=""),B&&(B.value=""),k={q:"",provincia:"",tipo:"",page:1},s()})),$?.addEventListener("click",(()=>{k.page>1&&(k.page--,s())})),A?.addEventListener("click",(()=>{k.page++,s()})),i.addEventListener("click",(e=>{e.target.classList.contains("btn-view")&&function(e,t){const a=x.find((t=>t.id===e));a&&(D=t||document.activeElement,P.textContent=a.nombre,z.style.backgroundImage=`url('${a.logo}')`,F.textContent=`${a.tipo} · ${a.provincia}`,N.textContent=`Ciudad: ${a.ciudad}`,R.textContent=a.resumen,j.textContent=`Teléfono: ${a.telefono}`,_&&(_.href=`./detalle-colegio.html?id=${a.id}`),H&&(H.onclick=()=>alert(`Solicitud de contacto enviada a ${a.nombre}. Tel: ${a.telefono}`)),q?.classList.add("open"),q?.setAttribute("aria-hidden","false"))}(Number(e.target.dataset.id),e.target);const t=e.target.closest("[data-contact]");if(t){const e=x.find((e=>e.id==Number(t.dataset.contact)));e&&alert(`Solicitud de contacto enviada a ${e.nombre}. Teléfono: ${e.telefono}`)}})),s()}const c=document.getElementById("maestrosResultados");if(c){const V=[{id:1,nombre:"María López",especialidad:"Primaria",anios:6,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=200&h=200&fit=crop&crop=face",resumen:"Maestra con experiencia en metodologías activas y aprendizaje cooperativo."},{id:2,nombre:"Carlos Ruiz",especialidad:"Inglés",anios:8,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200&h=200&fit=crop&crop=face",resumen:"Profesor B2 certificado, experiencia en infantil y primaria."},{id:3,nombre:"Ana Pérez",especialidad:"Matemáticas",anios:4,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&h=200&fit=crop&crop=face",resumen:"Apasionada por el razonamiento lógico y creativo en matemáticas."},{id:4,nombre:"Javier Gómez",especialidad:"Educación Física",anios:12,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop&crop=face",resumen:"Entrenador y profesor con enfoque inclusivo y saludable."},{id:5,nombre:"Lucía Martín",especialidad:"Inglés",anios:3,avatar:"https://images.unsplash.com/photo-1534751516642-a1af1ef26a56?w=200&h=200&fit=crop&crop=face",resumen:"Formación en TEFL y experiencia internacional en UK."},{id:6,nombre:"Miguel Torres",especialidad:"Educación Física",anios:10,avatar:"https://images.unsplash.com/photo-1517841905240-472988babdf9?w=200&h=200&fit=crop&crop=face",resumen:"Entrenador y maestro de deportes, fomenta hábitos saludables y trabajo en equipo."},{id:7,nombre:"Sofía Ramírez",especialidad:"Arte",anios:6,avatar:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=200&h=200&fit=crop&crop=face",resumen:"Creativa y apasionada por el arte y la expresión visual en la educación."},{id:8,nombre:"Pedro Sánchez",especialidad:"Música",anios:8,avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=200&h=200&fit=crop&crop=face",resumen:"Profesor de música con experiencia en coro, instrumentos y pedagogía musical."},{id:9,nombre:"Isabel Navarro",especialidad:"Inglés",anios:9,avatar:"https://images.unsplash.com/photo-1544725176-7c40e5a2c9f2?w=200&h=200&fit=crop&crop=face",resumen:"Maestra con certificación C1, especializada en enseñanza divertida e interactiva."},{id:10,nombre:"Antonio Herrera",especialidad:"Matemáticas",anios:12,avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=200&h=200&fit=crop&crop=face",resumen:"Profesor con amplia experiencia en secundaria y preparación de exámenes."},{id:11,nombre:"Elena Díaz",especialidad:"Ciencias Sociales",anios:5,avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200&h=200&fit=crop&crop=face",resumen:"Apasionada por la historia y geografía, fomenta debates y pensamiento crítico."},{id:12,nombre:"Luis Gómez",especialidad:"Tecnología",anios:7,avatar:"https://images.unsplash.com/photo-1522075469751-3a6694fb2f61?w=200&h=200&fit=crop&crop=face",resumen:"Profesor de informática y programación, motivador del aprendizaje digital."},{id:13,nombre:"Marta Vázquez",especialidad:"Educación Infantil",anios:4,avatar:"https://images.unsplash.com/photo-1531123897727-8f129e1688ce?w=200&h=200&fit=crop&crop=face",resumen:"Experta en desarrollo infantil, juegos educativos y atención individualizada."},{id:14,nombre:"Diego Ruiz",especialidad:"Química",anios:8,avatar:"https://images.unsplash.com/photo-1521120098172-760b0c03c8e5?w=200&h=200&fit=crop&crop=face",resumen:"Profesor entusiasta de laboratorio, fomenta experimentos prácticos y seguros."},{id:15,nombre:"Laura Morales",especialidad:"Física",anios:6,avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=200&h=200&fit=crop&crop=face",resumen:"Apasionada por la física aplicada y el pensamiento crítico en ciencias."},{id:16,nombre:"Jorge Castillo",especialidad:"Geografía",anios:7,avatar:"https://images.unsplash.com/photo-1502767089025-6572583495b0?w=200&h=200&fit=crop&crop=face",resumen:"Fomenta el conocimiento del mundo y la cultura a través de proyectos prácticos."},{id:17,nombre:"Patricia Blanco",especialidad:"Lengua y Literatura",anios:9,avatar:"https://images.unsplash.com/photo-1500917293891-ef795e70e1f6?w=200&h=200&fit=crop&crop=face",resumen:"Maestra creativa en lectura, escritura y análisis literario."},{id:18,nombre:"Fernando Herrera",especialidad:"Educación Física",anios:11,avatar:"https://images.unsplash.com/photo-1517841905240-472988babdf9?w=200&h=200&fit=crop&crop=face",resumen:"Profesor de deportes y hábitos saludables, especialista en coordinación motriz."},{id:19,nombre:"Raquel Jiménez",especialidad:"Arte",anios:5,avatar:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=200&h=200&fit=crop&crop=face",resumen:"Fomenta la creatividad y el pensamiento visual en proyectos artísticos."},{id:20,nombre:"Alberto Santos",especialidad:"Música",anios:6,avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=200&h=200&fit=crop&crop=face",resumen:"Profesor de música con experiencia en instrumentos y teoría musical."},{id:21,nombre:"Silvia Ramos",especialidad:"Inglés",anios:10,avatar:"https://images.unsplash.com/photo-1544725176-7c40e5a2c9f2?w=200&h=200&fit=crop&crop=face",resumen:"Enseña inglés de forma interactiva y divertida para primaria y secundaria."},{id:22,nombre:"Ricardo Medina",especialidad:"Matemáticas",anios:8,avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=200&h=200&fit=crop&crop=face",resumen:"Apasionado por el razonamiento lógico y resolución de problemas prácticos."},{id:23,nombre:"Mónica Fuentes",especialidad:"Ciencias Sociales",anios:6,avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200&h=200&fit=crop&crop=face",resumen:"Especialista en historia, geografía y proyectos interdisciplinarios."},{id:24,nombre:"Víctor Delgado",especialidad:"Tecnología",anios:7,avatar:"https://images.unsplash.com/photo-1522075469751-3a6694fb2f61?w=200&h=200&fit=crop&crop=face",resumen:"Profesor de informática y robótica educativa, motivador del aprendizaje digital."},{id:25,nombre:"Javier Morales",especialidad:"Ciencias Naturales",anios:7,avatar:"https://images.unsplash.com/photo-1502767089025-6572583495b0?w=200&h=200&fit=crop&crop=face",resumen:"Profesor dedicado a fomentar la curiosidad y el pensamiento crítico en ciencias."},{id:26,nombre:"Lucía Fernández",especialidad:"Lengua y Literatura",anios:5,avatar:"https://images.unsplash.com/photo-1500917293891-ef795e70e1f6?w=200&h=200&fit=crop&crop=face",resumen:"Especialista en escritura creativa y comprensión lectora en primaria y secundaria."}],O=15;let G={q:"",especialidad:"",page:1};const U=document.getElementById("maestrosBuscar"),J=document.getElementById("filtroEspecialidad"),Q=document.getElementById("btnMaestrosLimpiar"),K=document.getElementById("maestrosPrevPage"),W=document.getElementById("maestrosNextPage"),X=document.getElementById("maestrosPageInfo"),Y=(document.getElementById("maestrosResultsInfo"),document.getElementById("maestrosResultsCount"));function d(){c.setAttribute("aria-busy","true");const e=function(){const e=G.q.toLowerCase().trim();return V.filter((t=>(t.nombre+" "+t.especialidad+" "+t.resumen).toLowerCase().includes(e)&&(!G.especialidad||t.especialidad===G.especialidad)))}(),t=Math.max(1,Math.ceil(e.length/O));G.page=Math.min(G.page,t);const a=(G.page-1)*O,n=e.slice(a,a+O);Y&&(Y.textContent=e.length),0===n.length?c.innerHTML='\n                <div class="maestros-empty-state" style="grid-column: 1 / -1;">\n                    <h3>No se encontraron maestros</h3>\n                    <p>Intenta ajustar tus filtros de búsqueda</p>\n                    <button class="btn-maestros-outline" onclick="document.getElementById(\'btnMaestrosLimpiar\')?.click()">Limpiar filtros</button>\n                </div>\n            ':c.innerHTML=n.map((e=>`\n                <article class="maestro-card" role="article" aria-labelledby="maestro-${e.id}">\n                    <div class="maestro-avatar" style="background-image:url('${e.avatar}')" role="img" aria-label="${e.nombre}"></div>\n                    <div class="maestro-meta">\n                        <h4 id="maestro-${e.id}">${e.nombre}</h4>\n                        <p><strong>${e.especialidad}</strong> · ${e.anios} años exp.</p>\n                        <p>${e.resumen}</p>\n                        <div class="maestro-badges">\n                            <span class="maestro-badge">${e.anios}+ años</span>\n                            <span class="maestro-badge">${e.especialidad}</span>\n                        </div>\n                    </div>\n                    <div class="maestro-actions">\n                        <a class="btn-maestros-outline" href="./perfil.html?maestro=${e.id}">Ver perfil</a>\n                        <button class="btn-maestros-primary" data-contact="${e.id}">Contactar</button>\n                    </div>\n                </article>\n            `)).join(""),X&&(X.textContent=`${G.page} / ${t}`),K&&(K.disabled=G.page<=1),W&&(W.disabled=G.page>=t),c.setAttribute("aria-busy","false")}U&&U.addEventListener("input",(e=>{G.q=e.target.value,G.page=1,d()})),J&&J.addEventListener("change",(e=>{G.especialidad=e.target.value,G.page=1,d()})),Q&&Q.addEventListener("click",(()=>{U&&(U.value=""),J&&(J.value=""),G.q="",G.especialidad="",G.page=1,d()})),K&&K.addEventListener("click",(()=>{G.page>1&&(G.page--,d())})),W&&W.addEventListener("click",(()=>{G.page++,d()})),c.addEventListener("click",(e=>{const t=e.target.closest("[data-contact]");if(t){const e=Number(t.dataset.contact),a=V.find((t=>t.id===e));a&&alert(`Solicitud de contacto enviada a ${a.nombre}.`)}})),d()}})),document.getElementById("close-reply-modal").addEventListener("click",(()=>{document.getElementById("reply-modal").classList.remove("active")})),document.getElementById("reply-modal").addEventListener("click",(e=>{"reply-modal"===e.target.id&&e.target.classList.remove("active")})),document.addEventListener("click",(e=>{const t=e.target.closest(".contador-likes");if(!t)return;const a="likes_pub_"+t.dataset.id,n=Number(sessionStorage.getItem(a)||0)+1;sessionStorage.setItem(a,n);const o=t.querySelector("span");o&&(o.textContent=n),t.setAttribute("aria-pressed","true")})),["1","2","3"].forEach((e=>{const t=document.getElementById("visitas-publi"+e);t&&!sessionStorage.getItem("visitas_pub_"+e)&&sessionStorage.setItem("visitas_pub_"+e,Math.floor(120*Math.random())),t&&(t.textContent=sessionStorage.getItem("visitas_pub_"+e)||"0")}));const vp=document.getElementById("visitas-perfil");vp&&!sessionStorage.getItem("visitas_perfil")&&sessionStorage.setItem("visitas_perfil",Math.floor(400*Math.random())),vp&&(vp.textContent=sessionStorage.getItem("visitas_perfil")||"0"),function(){"use strict";const e=(e,t=document)=>t.querySelector(e),t=(e,t=document)=>Array.from(t.querySelectorAll(e));function a(e,t=""){return e?e.textContent.trim():t}function n(e,t,a){const n=e.classList.toggle("expanded");t.setAttribute("aria-expanded",String(n)),a.forEach((e=>{e.style.display=n?"":"none"}))}function o(e,t,a=!1){const n=document.createElement("div");n.className="temp-msg",n.textContent=t,n.style.padding="10px",n.style.marginTop="8px",n.style.borderRadius="8px",n.style.color=a?"#7a0b15":"#063",n.style.background=a?"rgba(186, 84, 84, 0.08)":"rgba(9, 64, 50, 0.06)",e.appendChild(n),setTimeout((()=>n.remove()),2800)}function i(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}document.addEventListener("DOMContentLoaded",(()=>{!function(){try{const e=document.body,a=Array.from(e.classList).find((e=>e.startsWith("page-")));if(!a)return;const n={"page-eventos":"eventos-y-talleres.html","page-recursos":"recursos-educativos.html","page-foros":"foros.html","page-sobre":"sobre-nosotros.html","page-ayuda":"ayuda.html","page-empleos":"empleos.html","page-perfil":"perfil.html"}[a]||null;if(!n)return;t("nav.menu a, .side-links a").forEach((e=>{try{const t=e.getAttribute("href");if(!t)return;t.includes(n)||t===n?(e.classList.add("active-link"),e.setAttribute("aria-current","page")):(e.classList.remove("active-link"),e.removeAttribute("aria-current"))}catch(e){}}))}catch(e){console.warn("initSidebarActiveLink:",e)}}(),function(){try{t(".read-more-btn, .read-more-butn, .btn.read-more, button.read-more-btn").forEach((e=>{e.getAttribute("data-listener")||(e.addEventListener("click",(t=>{window.toggleExpand(e)})),e.setAttribute("data-listener","1"))}))}catch(e){console.warn("initToggleExpandButtons:",e)}}(),function(){try{t(".contador-likes").forEach((e=>{e._likesInit||(e._likesInit=!0,e.addEventListener("click",(t=>{const a=!("true"===e.getAttribute("aria-pressed"));e.setAttribute("aria-pressed",String(a));const n=e.querySelector("span");if(!n)return;let o=parseInt(n.textContent||"0",10);Number.isNaN(o)&&(o=0),o=a?o+1:Math.max(0,o-1),n.textContent=o,e.classList.add("liked"),setTimeout((()=>e.classList.remove("liked")),300)})))}))}catch(e){console.warn("initLikeCounters:",e)}}(),function(){try{t(".faq-item").forEach(((e,t)=>{const a=e.querySelector("h3")||e.querySelector("summary")||e.firstElementChild;if(!a)return;e.setAttribute("role","region");const o=Array.from(e.children).filter((e=>e!==a&&!("HR"===e.tagName)));e.classList.contains("expanded")?o.forEach((e=>e.style.display="")):o.forEach((e=>e.style.display="none")),a.setAttribute("tabindex","0"),a.setAttribute("role","button"),a.setAttribute("aria-expanded",e.classList.contains("expanded")),a.addEventListener("click",(()=>n(e,a,o))),a.addEventListener("keydown",(t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),n(e,a,o))}))}))}catch(e){console.warn("initFAQ:",e)}}(),function(){try{const t=e(".support-form");if(!t)return;t.addEventListener("submit",(e=>{e.preventDefault();const a=t.querySelector('input[type="text"]'),n=t.querySelector('input[type="email"]'),o=t.querySelector("textarea"),i=[];(!a||a.value.trim().length<2)&&i.push("Nombre (mínimo 2 caracteres)"),n&&/^\S+@\S+\.\S+$/.test(n.value.trim())||i.push("Email válido"),(!o||o.value.trim().length<10)&&i.push("Mensaje (mínimo 10 caracteres)");const s=t.querySelector(".form-feedback");s&&s.remove();const r=document.createElement("div");if(r.className="form-feedback",r.style.marginTop="12px",i.length)return r.innerHTML="<strong>Por favor corrige los siguientes errores:</strong><ul>"+i.map((e=>`<li>${e}</li>`)).join("")+"</ul>",r.style.color="#b00020",t.appendChild(r),void(i[0].includes("Nombre")?a.focus():i[0].includes("Email")?n.focus():o.focus());r.innerHTML="<strong>Mensaje enviado correctamente.</strong> Nuestro equipo te responderá en breve.",r.style.color="#094032",t.appendChild(r),a.value="",n.value="",o.value=""}))}catch(e){console.warn("initSupportForm:",e)}}(),function(){try{document.addEventListener("click",(e=>{const t=e.target.closest(".evento-card .btn, .evento-card .btn-primary, .evento-card .btn-outline");if(!t)return;const a=t.closest(".evento-card");if(!a)return;if(t.classList.contains("btn-primary")&&!t.classList.contains("btn-outline")){const e=a.classList.toggle("registered");t.textContent=e?"Inscrito":"Inscribirme",t.disabled=e,t.setAttribute("aria-pressed",String(!!e)),a.classList.add("flash"),setTimeout((()=>a.classList.remove("flash")),500)}}))}catch(e){console.warn("initEventRegistration:",e)}}(),function(){try{document.addEventListener("click",(e=>{const t=e.target.closest(".recurso-card .btn, .recurso-card .btn-primary, .recurso-card .btn-outline");if(!t)return;const n=t.closest(".recurso-card");if(!n)return;const o=a(n.querySelector("h3"),"recurso");if(t.classList.contains("btn-primary")&&!t.classList.contains("btn-outline"))try{const e=`Recurso: ${o}\nGenerado por Adopta un Maestro - simulación de descarga.`,t=new Blob([e],{type:"text/plain;charset=utf-8"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=(o.replace(/\s+/g,"_").toLowerCase()||"recurso")+".txt",document.body.appendChild(n),n.click(),n.remove(),setTimeout((()=>URL.revokeObjectURL(a)),2e3)}catch(e){console.warn("download simulation failed",e)}else{const e=document.createElement("div");e.className="recurso-feedback",e.textContent=`Abriendo "${o}"... (simulación)`,e.style.marginTop="8px",n.appendChild(e),setTimeout((()=>e.remove()),2200)}}))}catch(e){console.warn("initRecursosActions:",e)}}(),function(){try{const t=e("#foro-create-form"),n=e("#foro-list");if(!t||!n)return;t.addEventListener("submit",(e=>{e.preventDefault();const s=a(t.querySelector('input[name="title"]'))||t.querySelector('input[name="title"]').value,r=t.querySelector('textarea[name="body"]').value||"";if(!s||s.trim().length<3)return void o(t,"El título debe tener al menos 3 caracteres.",!0);if(!r||r.trim().length<5)return void o(t,"El mensaje debe tener al menos 5 caracteres.",!0);const c=document.createElement("article");c.className="foro-card",c.innerHTML=`\n          <h3>${i(s)}</h3>\n          <p class="foro-meta">0 respuestas · nuevo</p>\n          <p>${i(r)}</p>\n          <div class="foro-actions">\n            <button class="btn btn-outline btn-reply">Responder</button>\n            <button class="btn btn-primary btn-open">Abrir</button>\n          </div>\n        `,n.prepend(c),t.reset(),o(t,"Hilo creado correctamente.",!1),c.scrollIntoView({behavior:"smooth",block:"start"})}))}catch(e){console.warn("initForoCreateIfPresent:",e)}}(),function(){try{document.body.addEventListener("keydown",(e=>{"Tab"===e.key&&document.body.classList.add("show-focus")})),document.body.addEventListener("mousedown",(()=>{document.body.classList.remove("show-focus")})),t(".side-links a").forEach((e=>{e.hasAttribute("aria-label")||e.setAttribute("aria-label",e.textContent.trim())}))}catch(e){console.warn("initAccessibilityHelpers:",e)}}(),t(".job-offer").forEach((t=>{const a=e(".read-more-btn",t);if(a){const e=t.classList.contains("expanded");a.textContent=e?"Leer menos":"Leer más",a.setAttribute("aria-expanded",String(e))}}))})),window.toggleExpand=function(e){if(!e)return;const t=e.closest(".job-offer");if(!t)return;const a=t.classList.toggle("expanded");e.textContent=a?"Leer menos":"Leer más",e.setAttribute("aria-expanded",String(a))}}();